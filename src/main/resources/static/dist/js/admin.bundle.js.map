{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./resource/js/admin.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","default","object","property","prototype","hasOwnProperty","p","s","0","t","e","$","document","ready","[object Object]","this","$navTab","$conTab","$moreBtn","$moreBlock","$list","$listCon","$examTitle","$examType","$examYear","$examMonth","$examDay","$examTime","$examLoc","$basicBtn","$qTitle","$qType","$qScore","$qChoice","$qBtn","$examInfo","$submit","exam","basic","question","tab","getMore","listTab","basicBtnClick","qBtnClick","submit","on","preventDefault","$target","target","index","children","toArray","map","item","forEach","hasClass","removeClass","addClass","idx","hide","show","parent","find","text","done","data","res","JSON","parse","ret","Highcharts","chart","title","val","type","date","time","loc","alert","clear","push","score","choice","console","log","renderExamInfo","len","length","parseInt","arr","attr","removeAttr","post","stringify","status","init"],"mappings":"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","file":"./js/admin.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import '../scss/admin.scss';\r\n\r\nclass Admin {\r\n    constructor() {\r\n        this.$navTab = $('.navbar-nav');\r\n        this.$conTab = $('.con-item');\r\n        this.$moreBtn = $('.btn-more');\r\n        this.$moreBlock = $('.more');\r\n        this.$list = $('.list-group');\r\n        this.$listCon = $('.list-con');\r\n\r\n        this.$examTitle = $('#chooseTitle');\r\n        this.$examType = $('#chooseType');\r\n        this.$examYear = $('#chooseYear');\r\n        this.$examMonth = $('#chooseMonth');\r\n        this.$examDay = $('#chooseDay');\r\n        this.$examTime = $('#chooseTime');\r\n        this.$examLoc = $('#chooseLoc');\r\n        this.$basicBtn = $('#basicBtn');\r\n\r\n        this.$qTitle = $('#questionDesc');\r\n        this.$qType = $('#questionType');\r\n        this.$qScore = $('#questionScore');\r\n        this.$qChoice = $('.questionChoice');\r\n        this.$qBtn = $('.questionBtn');\r\n\r\n        this.$examInfo = $('.exam-info');\r\n        this.$submit = $('.btn-submit');\r\n\r\n        this.exam = {\r\n            basic: null,\r\n            question: []\r\n        };\r\n    }\r\n\r\n    init() {\r\n        this.tab();\r\n        this.getMore();\r\n        this.listTab();\r\n        this.basicBtnClick();\r\n        this.qBtnClick();\r\n        this.submit();\r\n    }\r\n\r\n    tab() {\r\n        this.$navTab.on('click', e => {\r\n            e.preventDefault();\r\n            const $target = $(e.target);\r\n            const index = $target.index('.nav-link');\r\n            if (index !== 2) {\r\n                const children = this.$navTab.children().toArray().map(item => {\r\n                    return $(item).children();\r\n                })\r\n                children.forEach(item => {\r\n                    if ($(item).hasClass('active')) {\r\n                        $(item).removeClass('active');\r\n                    }\r\n                });\r\n                $target.addClass('active');\r\n                this.$conTab.toArray().forEach((item, idx) => {\r\n                    $(item).hide();\r\n                    if (index === idx) {\r\n                        $(item).show();\r\n                    }\r\n                })\r\n            }\r\n        });\r\n    }\r\n\r\n    getMore() {\r\n        this.$moreBtn.toArray().forEach((item, index) => {\r\n            if (index === 0) {\r\n                $(item).on('click', e => {\r\n                    e.preventDefault();\r\n                    const $target = $(e.target).parent().find('.card-title');\r\n                    const $title = this.$moreBlock.find('.h4');\r\n                    $title.text($target.text());\r\n                    this.$moreBlock.hide();\r\n                    $.get('/api/examd-detail')\r\n                        .done(data => {\r\n                            data = JSON.parse(data);\r\n                            const res = data.data;\r\n                            if (data.ret && res) {\r\n                                const chart = Highcharts.chart('more-content', res);\r\n                            }\r\n                        })\r\n                    this.$moreBlock.show();  \r\n                })\r\n            } else if (index === 1) {\r\n                $(item).on('click', e => {\r\n                    e.preventDefault();\r\n                    const $target = $(e.target).parent().find('.card-title');\r\n                    const $title = this.$moreBlock.find('.h4');\r\n                    $title.text($target.text());\r\n                    this.$moreBlock.hide();\r\n                    $.get('/api/exam-sign-detail')\r\n                        .done(data => {\r\n                            data = JSON.parse(data);\r\n                            const res = data.data;\r\n                            if (data.ret && res) {\r\n                                const chart = Highcharts.chart('more-content', res);\r\n                            }\r\n                        })\r\n                    this.$moreBlock.show();\r\n                })\r\n            } else {\r\n                $(item).on('click', e => {\r\n                    e.preventDefault();\r\n                    const $target = $(e.target).parent().find('.card-title');\r\n                    const $title = this.$moreBlock.find('.h4');\r\n                    $title.text($target.text());\r\n                    this.$moreBlock.hide();\r\n                    $.get('/api/exam-categroy')\r\n                        .done(data => {\r\n                            data = JSON.parse(data);\r\n                            const res = data.data;\r\n                            if (data.ret && res) {\r\n                                const chart = Highcharts.chart('more-content', res);\r\n                            }\r\n                        })\r\n                    this.$moreBlock.show();\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    listTab() {\r\n        this.$list.on('click', e => {\r\n            e.preventDefault();\r\n            const $target = $(e.target);\r\n            const index = $target.index();\r\n            this.$list.children().toArray().forEach(item => {\r\n                if ($(item).hasClass('active')) {\r\n                    $(item).removeClass('active');\r\n                }\r\n            });\r\n            $target.addClass('active');\r\n            this.$listCon.toArray().forEach((item, idx) => {\r\n                $(item).hide();\r\n                if (index === idx) {\r\n                    $(item).show();\r\n                }\r\n            })\r\n        })\r\n    }\r\n\r\n    basicBtnClick() {\r\n        this.$basicBtn.on('click', e => {\r\n            e.preventDefault();\r\n            this.exam.basic = {\r\n                title: this.$examTitle.val(),\r\n                type: this.$examType.val(),\r\n                date: `${this.$examYear.val()}/${this.$examMonth.val()}/${this.$examDay.val()}`,\r\n                time: this.$examTime.val(),\r\n                loc: this.$examLoc.val()\r\n            }\r\n            alert('提交成功');\r\n            this.clear();\r\n        })\r\n    }\r\n\r\n    qBtnClick() {\r\n        this.$qBtn.on('click', e => {\r\n            e.preventDefault();\r\n            let type = this.$qType.val();\r\n            if (type === '单选') {\r\n                type = 'radio'\r\n            } else if (type === '多选') {\r\n                type = 'checkbox'\r\n            } else {\r\n                type = 'other';\r\n            }\r\n            this.exam.question.push({\r\n                title: this.$qTitle.val(),\r\n                type: type,\r\n                score: this.$qScore.val(),\r\n                choice: this.$qChoice.toArray().map(item => {\r\n                    return $(item).val();\r\n                })\r\n            });\r\n            console.log(this.exam);\r\n            this.renderExamInfo();\r\n            alert('添加成功')\r\n            this.clear()\r\n        })\r\n    }\r\n\r\n    renderExamInfo() {\r\n        let score = 0;\r\n        let len = this.exam.question.length;\r\n        for (let i = 0; i < len; i++) {\r\n            score += parseInt(this.exam.question[i].score);\r\n        }\r\n        let arr = [\r\n            `试卷名称：${this.exam.basic.title}`,\r\n            `考试时间：${this.exam.basic.date} ${this.exam.basic.time}`,\r\n            `考试地点：${this.exam.basic.loc}`,\r\n            `试题数量：${len}`,\r\n            `试题总分：${score}`\r\n        ]\r\n        this.$examInfo.children().toArray().forEach((item, index) => {\r\n            $(item).text(arr[index]);\r\n        });\r\n    }\r\n\r\n    clear() {\r\n        $('.qform').find('input').toArray().forEach(item => {\r\n            $(item).val('');\r\n        });\r\n        $('.qform').find('select').toArray().forEach(item => {\r\n            $(item).children().toArray().forEach((item, index) => {\r\n                if ($(item).attr('selected')) {\r\n                    $(item).removeAttr('selected');\r\n                }\r\n                if (index === 0) {\r\n                    $(item).attr('selected', 'true')\r\n                }\r\n            })\r\n        })\r\n    }\r\n\r\n    submit() {\r\n        if (this.exam.basic && this.exam.question.length) {\r\n            this.$submit.removeClass('disabled').removeAttr('disabled');\r\n            this.$submit.on('click', e => {\r\n                e.preventDefault();\r\n                $.post('/api/exam-add', JSON.stringify(this.exam))\r\n                    .done(data => {\r\n                        data = JSON.parse(data);\r\n                        if (data.ret && data.data.status === 'OK') {\r\n                            alert('提交成功')\r\n                        }\r\n                    })\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\n$(document).ready(function() {\r\n    const admin = new Admin();\r\n    admin.init();\r\n})"],"sourceRoot":""}