{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./resource/js/admin.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","default","object","property","prototype","hasOwnProperty","p","s","16","e","4","a","$","document","ready","[object Object]","this","$navTab","$conTab","$moreBtn","$moreBlock","$list","$listCon","$examTitle","$examType","$examYear","$examMonth","$examDay","$examTime","$examLoc","$basicBtn","$qTitle","$qType","$qScore","$qChoice","$qAnswer","$qBtn","$examInfo","$submit","$pReading","$pReaded","$sReading","$sReaded","$logout","exam","basic","question","tab","getMore","listTab","basicBtnClick","qBtnClick","submit","renderExamResult","logout","on","preventDefault","$target","target","index","children","toArray","map","item","forEach","hasClass","removeClass","addClass","idx","hide","show","parent","find","text","done","data","res","JSON","parse","ret","Highcharts","chart","describe","val","type","date","time","location","deadline","parseInt","slice","alert","clear","push","score","content","answer","console","log","renderExamInfo","len","length","arr","attr","removeAttr","stringify","ajax","url","status","then","success","readed","reading","readedFrag","createDocumentFragment","$li","title","id","append","readingFrag","handlePapersItemClick","catch","err","evt","paperId","post","items","filter","data-email","stuEmail","data-paperId","handleStuItemClick","stuEamil","localStorage","setItem","assign","fail","init"],"mappings":"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","file":"./js/admin.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n","import '../scss/admin.scss';\r\n\r\nclass Admin {\r\n    constructor() {\r\n        this.$navTab = $('.navbar-nav');\r\n        this.$conTab = $('.con-item');\r\n        this.$moreBtn = $('.btn-more');\r\n        this.$moreBlock = $('.more');\r\n        this.$list = $('.list-group');\r\n        this.$listCon = $('.list-con');\r\n\r\n        this.$examTitle = $('#chooseTitle');\r\n        this.$examType = $('#chooseType');\r\n        this.$examYear = $('#chooseYear');\r\n        this.$examMonth = $('#chooseMonth');\r\n        this.$examDay = $('#chooseDay');\r\n        this.$examTime = $('#chooseTime');\r\n        this.$examLoc = $('#chooseLoc');\r\n        this.$basicBtn = $('#basicBtn');\r\n\r\n        this.$qTitle = $('#questionDesc');\r\n        this.$qType = $('#questionType');\r\n        this.$qScore = $('#questionScore');\r\n        this.$qChoice = $('.questionChoice');\r\n        this.$qAnswer = $('#choiceanswer');\r\n        this.$qBtn = $('.questionBtn');\r\n\r\n        this.$examInfo = $('.exam-info');\r\n        this.$submit = $('.btn-submit');\r\n\r\n        this.$pReading = $('.examd-papers .reading')\r\n        this.$pReaded = $('.examd-papers .readed')\r\n        this.$sReading = $('.examd-student .reading')\r\n        this.$sReaded = $('.examd-student .readed')\r\n\r\n        this.$logout = $('#logout')\r\n\r\n        this.exam = {\r\n            basic: null,\r\n            question: []\r\n        };\r\n    }\r\n\r\n    init() {\r\n        this.tab();\r\n        this.getMore();\r\n        this.listTab();\r\n        this.basicBtnClick();\r\n        this.qBtnClick();\r\n        this.submit();\r\n        this.renderExamResult();\r\n        this.logout();\r\n    }\r\n\r\n    tab() {\r\n        this.$navTab.on('click', e => {\r\n            e.preventDefault();\r\n            const $target = $(e.target);\r\n            const index = $target.index('.nav-link');\r\n            if (index !== 2) {\r\n                const children = this.$navTab.children().toArray().map(item => {\r\n                    return $(item).children();\r\n                })\r\n                children.forEach(item => {\r\n                    if ($(item).hasClass('active')) {\r\n                        $(item).removeClass('active');\r\n                    }\r\n                });\r\n                $target.addClass('active');\r\n                this.$conTab.toArray().forEach((item, idx) => {\r\n                    $(item).hide();\r\n                    if (index === idx) {\r\n                        $(item).show();\r\n                    }\r\n                })\r\n            }\r\n        });\r\n    }\r\n\r\n    getMore() {\r\n        this.$moreBtn.toArray().forEach((item, index) => {\r\n            if (index === 0) {\r\n                $(item).on('click', e => {\r\n                    e.preventDefault();\r\n                    const $target = $(e.target).parent().find('.card-title');\r\n                    const $title = this.$moreBlock.find('.h4');\r\n                    $title.text($target.text());\r\n                    this.$moreBlock.hide();\r\n                    $.get('/api/examed_detail')\r\n                        .done(data => {\r\n                            data = JSON.parse(data);\r\n                            const res = data.data;\r\n                            if (data.ret && res) {\r\n                                const chart = Highcharts.chart('more-content', res);\r\n                            }\r\n                        })\r\n                    this.$moreBlock.show();  \r\n                })\r\n            } else if (index === 1) {\r\n                $(item).on('click', e => {\r\n                    e.preventDefault();\r\n                    const $target = $(e.target).parent().find('.card-title');\r\n                    const $title = this.$moreBlock.find('.h4');\r\n                    $title.text($target.text());\r\n                    this.$moreBlock.hide();\r\n                    $.get('/api/exam_sign_detail')\r\n                        .done(data => {\r\n                            data = JSON.parse(data);\r\n                            const res = data.data;\r\n                            if (data.ret && res) {\r\n                                const chart = Highcharts.chart('more-content', res);\r\n                            }\r\n                        })\r\n                    this.$moreBlock.show();\r\n                })\r\n            } else {\r\n                $(item).on('click', e => {\r\n                    e.preventDefault();\r\n                    const $target = $(e.target).parent().find('.card-title');\r\n                    const $title = this.$moreBlock.find('.h4');\r\n                    $title.text($target.text());\r\n                    this.$moreBlock.hide();\r\n                    $.get('/api/exam_categroy')\r\n                        .done(data => {\r\n                            data = JSON.parse(data);\r\n                            const res = data.data;\r\n                            if (data.ret && res) {\r\n                                const chart = Highcharts.chart('more-content', res);\r\n                            }\r\n                        })\r\n                    this.$moreBlock.show();\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    listTab() {\r\n        this.$list.on('click', e => {\r\n            e.preventDefault();\r\n            const $target = $(e.target);\r\n            const index = $target.index();\r\n            this.$list.children().toArray().forEach(item => {\r\n                if ($(item).hasClass('active')) {\r\n                    $(item).removeClass('active');\r\n                }\r\n            });\r\n            $target.addClass('active');\r\n            this.$listCon.toArray().forEach((item, idx) => {\r\n                $(item).hide();\r\n                if (index === idx) {\r\n                    $(item).show();\r\n                }\r\n            })\r\n        })\r\n    }\r\n\r\n    basicBtnClick() {\r\n        this.$basicBtn.on('click', e => {\r\n            e.preventDefault();\r\n            this.exam.basic = {\r\n                describe: this.$examTitle.val(),\r\n                type: this.$examType.val(),\r\n                date: `${this.$examYear.val()}/${this.$examMonth.val()}/${this.$examDay.val()}`,\r\n                time: this.$examTime.val(),\r\n                location: this.$examLoc.val()\r\n            }\r\n            const time = this.exam.basic.time;\r\n            const deadline = parseInt(time.slice(0, 2)) - 2 + time.slice(2, 5);\r\n            this.exam.basic.deadline = deadline;\r\n            alert('提交成功');\r\n            this.clear();\r\n        })\r\n    }\r\n\r\n    qBtnClick() {\r\n        this.$qBtn.on('click', e => {\r\n            e.preventDefault();\r\n            let type = this.$qType.val();\r\n            if (type === '单选') {\r\n                type = 'radio'\r\n            } else if (type === '多选') {\r\n                type = 'checkbox'\r\n            } else {\r\n                type = 'other';\r\n            }\r\n            this.exam.question.push({\r\n                describe: this.$qTitle.val(),\r\n                type: type,\r\n                score: this.$qScore.val(),\r\n                content: this.$qChoice.toArray().map(item => {\r\n                    return $(item).val();\r\n                }),\r\n                answer: this.$qAnswer.val()\r\n            });\r\n            console.log(this.exam);\r\n            this.renderExamInfo();\r\n            alert('添加成功');\r\n            this.clear();\r\n        })\r\n    }\r\n\r\n    renderExamInfo() {\r\n        let score = 0;\r\n        let len = this.exam.question.length;\r\n        for (let i = 0; i < len; i++) {\r\n            score += parseInt(this.exam.question[i].score);\r\n        }\r\n        let arr = [\r\n            `试卷名称：${this.exam.basic.describe}`,\r\n            `考试时间：${this.exam.basic.date} ${this.exam.basic.time}`,\r\n            `考试地点：${this.exam.basic.location}`,\r\n            `试题数量：${len}`,\r\n            `试题总分：${score}`\r\n        ]\r\n        this.$examInfo.children().toArray().forEach((item, index) => {\r\n            $(item).text(arr[index]);\r\n        });\r\n    }\r\n\r\n    clear() {\r\n        $('.qform').find('input').toArray().forEach(item => {\r\n            $(item).val('');\r\n        });\r\n        $('.qform').find('select').toArray().forEach(item => {\r\n            $(item).children().toArray().forEach((item, index) => {\r\n                if ($(item).attr('selected')) {\r\n                    $(item).removeAttr('selected');\r\n                }\r\n                if (index === 0) {\r\n                    $(item).attr('selected', 'true')\r\n                }\r\n            })\r\n        })\r\n    }\r\n\r\n    submit() {\r\n        this.$submit.on('click', e => {\r\n            console.log(JSON.stringify(this.exam));\r\n            let basicJson = JSON.stringify(this.exam.basic);\r\n            let questionJson = JSON.stringify(this.exam.question);\r\n            let basic = `basic=${basicJson}`;\r\n            let question = `questions=${questionJson}`;\r\n            let data = `${basic}&&${question}`;\r\n            console.log(data);\r\n            e.preventDefault();\r\n            $.ajax({\r\n                type: 'POST',\r\n                url: '/api/exam_add',\r\n                data: data\r\n            })\r\n                .done(data => {\r\n                    data = JSON.parse(data);\r\n                    console.log(data)\r\n                    if (data.ret && data.data.status === 'OK') {\r\n                        alert('提交成功');\r\n                    }\r\n                });\r\n        });\r\n    }\r\n\r\n    renderExamResult() {\r\n        $.get('/api/showPapers')\r\n            .then(data => {\r\n                data = JSON.parse(data)\r\n                if (data.success) {\r\n                    const readed = data.readed\r\n                    const reading = data.reading\r\n                    const readedFrag = document.createDocumentFragment()\r\n                    readed.forEach(item => {\r\n                        let $li = $('<li>').addClass('readed-item').text(item.title).attr('title', item.id)\r\n                        $(readedFrag).append($li)\r\n                    })\r\n                    this.$pReaded.append(readedFrag)\r\n                    const readingFrag = document.createDocumentFragment()\r\n                    reading.forEach(item => {\r\n                        let $li = $('<li>').addClass('reading-item').text(item.title).attr('title', item.id)\r\n                        $(readingFrag).append($li)\r\n                    })\r\n                    this.$pReading.append(readingFrag)\r\n\r\n                    this.handlePapersItemClick()\r\n                }\r\n            })\r\n            .catch(err => {})\r\n    }\r\n\r\n    handlePapersItemClick() {\r\n        this.$pReaded.on('click', evt => {\r\n            const $target = $(evt.target)\r\n            const paperId = $target.attr('title')\r\n            $.post('/api/showPStu', `id=${paperId}`).then(data => {\r\n                data = JSON.parse(data)\r\n                console.log(data)\r\n                if (data.success) {\r\n                    const items = data.data\r\n                    const readed = items.filter(item => {\r\n                        return item.status === 'readed'\r\n                    })\r\n                    const reading = items.filter(item => {\r\n                        return item.status === 'reading'\r\n                    })\r\n                    const readedFrag = document.createDocumentFragment()\r\n                    readed.forEach(item => {\r\n                        let $li = $('<li>').text(item.name).attr({\r\n                            'data-email': item.stuEmail,\r\n                            'data-paperId': paperId\r\n                        })\r\n                        $(readedFrag).append($li)\r\n                    })\r\n                    this.$sReaded.append(readedFrag)\r\n                    const readingFrag = document.createDocumentFragment()\r\n                    reading.forEach(item => {\r\n                        let $li = $('<li>').text(item.name).attr({\r\n                            'data-email': item.stuEmail,\r\n                            'data-paperId': paperId\r\n                        })\r\n                        $(readingFrag).append($li)\r\n                    })\r\n                    this.$sReading.append(readingFrag)\r\n                }\r\n            }).catch(err => {})\r\n        })\r\n        this.$pReading.on('click', evt => {\r\n            const $target = $(evt.target)\r\n            const paperId = $target.attr('title')\r\n            $.post('/api/showPStu', `id=${paperId}`).then(data => {\r\n                data = JSON.parse(data)\r\n                if (data.success) {\r\n                    const items = data.data\r\n                    const readed = items.filter(item => {\r\n                        return item.status === 'readed'\r\n                    })\r\n                    const reading = items.filter(item => {\r\n                        return item.status === 'reading'\r\n                    })\r\n                    const readedFrag = document.createDocumentFragment()\r\n                    readed.forEach(item => {\r\n                        let $li = $('<li>').text(item.name).attr({\r\n                            'data-email': item.stuEmail,\r\n                            'data-paperId': paperId\r\n                        })\r\n                        $(readedFrag).append($li)\r\n                    })\r\n                    this.$sReaded.append(readedFrag)\r\n                    const readingFrag = document.createDocumentFragment()\r\n                    reading.forEach(item => {\r\n                        let $li = $('<li>').text(item.name).attr({\r\n                            'data-email': item.stuEmail,\r\n                            'data-paperId': paperId\r\n                        })\r\n                        $(readingFrag).append($li)\r\n                    })\r\n                    this.$sReading.append(readingFrag)\r\n                }\r\n            }).catch(err => {})\r\n        })\r\n\r\n        this.handleStuItemClick()\r\n    }\r\n\r\n    handleStuItemClick() {\r\n        this.$sReaded.on('click', evt => {\r\n            const $target = $(evt.target)\r\n            const stuEamil = $target.attr('data-email')\r\n            const id = $target.attr('data-paperId')\r\n            localStorage.setItem('stuEmail', stuEamil)\r\n            localStorage.setItem('id', id)\r\n            location.assign('/exam-detail.html')\r\n        })\r\n        this.$sReading.on('click', evt => {\r\n            const $target = $(evt.target)\r\n            const stuEamil = $target.attr('data-email')\r\n            const id = $target.attr('data-paperId')\r\n            localStorage.setItem('stuEmail', stuEamil)\r\n            localStorage.setItem('id', id)\r\n            location.assign('/exam_detail.html')\r\n        })\r\n    }\r\n\r\n    logout() {\r\n        this.$logout.on('click', () => {\r\n            // TODO\r\n            $.get('/api/logout')\r\n                .then(data => {\r\n                    alert('您已退出登录')\r\n                    location.assign('/login')\r\n                }).fail(err => { });\r\n        });\r\n    }\r\n}\r\n\r\n$(document).ready(function() {\r\n    const admin = new Admin();\r\n    admin.init();\r\n})"],"sourceRoot":""}